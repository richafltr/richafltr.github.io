(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{1005:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my-otherdeeds",function(){return n(6001)}])},6930:function(e,t,n){"use strict";n.d(t,{R:function(){return d}});var r=n(5893),i=n(4091),s=n(6509),a=n(7903),o=n(718),l=n(911),c=n(8137),u=n(7639);function d(e){var t=e.className,n=void 0===t?"":t,d=e.headlineText,h=void 0===d?"# Connect your wallet":d,p=e.bodyCopy,v=void 0===p?"You need to connect your wallet before proceeding.":p,f=(0,a.W)(),g=(0,o.G)("sm");return(0,r.jsx)("section",{className:(0,i.classNames)("standard-wrapper flex flex-col justify-center items-center min-h-screen",n),children:(0,r.jsxs)("div",{className:"mx-auto my-auto w-full text-center flex flex-col items-center",children:[(0,r.jsx)(s.Q,{headline:h,headlineClass:"headline-3",bodyCopy:v,bodyClass:"text-off-white",alignment:"center",bodyAlignment:"text-center",bodyMaxWidth:g?"500px":"200px"}),(0,r.jsx)("div",{className:"flex justify-center mt-8",children:(0,r.jsxs)("div",{className:"min-w-[250px] grid grid-cols-1 gap-y-3 mt-8 md:gap-y-5",ref:f,children:[(0,r.jsx)(l.o,{}),(0,r.jsx)(u.F,{}),(0,r.jsx)(c.v,{})]})})]})})}},4225:function(e,t,n){"use strict";n.d(t,{s:function(){return l}});var r=n(5893),i=n(1216),s=n(7294),a=n(4091),o=n(718);function l(e){var t=e.src,n=e.srcMobile,l=e.alt,c=e.width,u=e.height,d=e.className,h=void 0===d?"relative":d,p=e.ariaHidden,v=void 0!==p&&p,f=e.immediateRender,g=void 0!==f&&f,m=e.onImageAssetLoaded,y=(0,o.G)("md"),x=(0,s.useState)(!1),w=x[0],b=x[1];return(0,s.useEffect)((function(){w&&m&&m()}),[w,m]),(0,s.useEffect)((function(){g&&(0,i.Iq)()}),[g]),(0,r.jsx)(i.ZP,{className:h,children:(0,r.jsx)("img",{className:(0,a.classNames)("duration-500",w?"opacity-1":"opacity-0",h),alt:l,src:y?t:n||t,"aria-hidden":v,width:c,height:u,onLoad:function(){return b(!0)}})})}},5137:function(e,t,n){"use strict";n.d(t,{U:function(){return l}});var r=n(5893),i=n(9655),s=n(4091),a=n(9095);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){var t=e.content,n=e.className,l=void 0===n?"":n;return(0,r.jsx)(i.D,{className:(0,s.classNames)("markdown",l),components:{a:function(e){return(0,r.jsx)(a.r,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}({},e))}},children:t})}},5943:function(e,t,n){"use strict";n.d(t,{j:function(){return s}});var r=n(5893),i=n(4091);function s(e){var t=e.text,n=e.className;return(0,r.jsx)("div",{className:(0,i.classNames)("px-4 py-3 rounded-md bg-white/10 block font-cta text-[13px] tracking-[0.15em] mb-8 uppercase backdrop-blur-md",n),children:t})}},6509:function(e,t,n){"use strict";n.d(t,{Q:function(){return d}});var r=n(5893),i=n(4091),s=n(7903),a=n(4699),o=n(5137),l=n(5943);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}function d(e){var t=e.eyebrow,n=e.headline,c=e.bodyCopy,d=e.cta,h=e.maxWidth,p=e.alignment,v=void 0===p?"left":p,f=e.bodyAlignment,g=void 0===f?"text-justify":f,m=e.bodyClass,y=void 0===m?"text-gray-medium":m,x=e.headlineClass,w=void 0===x?"headline-1":x,b=e.bodyMaxWidth,E=void 0===b?"500px":b,A=e.className,j=void 0===A?"":A,k=(0,s.W)();return(0,r.jsxs)("div",{ref:k,className:(0,i.classNames)("flex flex-col","center"===v?"items-center":"items-start","text-center"===g?"text-center":"text-left",j),style:{maxWidth:h},children:[t&&(0,r.jsx)(l.j,u({},t)),n&&(0,r.jsx)("div",{className:w,children:(0,r.jsx)(o.U,{className:"mb-8",content:n})}),c&&(0,r.jsx)("div",{className:(0,i.classNames)("",g,y),style:{maxWidth:E},children:(0,r.jsx)(o.U,{content:c})}),d&&(0,r.jsx)("div",{className:"mx-auto mt-8 w-full max-w-[500px]",children:(0,r.jsx)(a.z,u({},d,{className:"w-full text-gray-medium"}))})]})}},8439:function(e,t,n){"use strict";n.d(t,{V:function(){return r}});var r={Acid:"#702360",Mallow:"#894444",Sludge:"#486C33",Shadow:"#3d4957",Botanical:"#34615d",Mycelium:"#487154",Jungle:"#563455",Mystic:"#604877",Crystal:"#75426D",Spires:"#3d4739",Luster:"#806a2c",Biolume:"#3a5564",Molten:"#6c4213",Sulfuric:"#554e46",Obsidian:"#454081",Crimson:"#732726",Plague:"#424a1c",Thornwood:"#596265",Bog:"#603524",Ruins:"#6e4e21",Bone:"#624e2d",Splinter:"#64524d",Wastes:"#754c4c",Glacia:"#213182",Steppes:"#364163",Veldan:"#446342",Sands:"#1a6970",Sky:"#525275",Chaos:"#874932"}},6666:function(e,t,n){"use strict";n.d(t,{t:function(){return p}});var r=n(5893),i=n(7521),s=n(7294),a=n(4091),o=n(1089),l=n(4225),c=n(8439),u=n(3912),d=n.n(u),h=function(e){return e&&e in c.V?c.V[e]:""},p=function(e){var t=e.imageURL,n=void 0===t?"":t,c=e.environment,u=void 0===c?"":c,d=e.obeliskPieces,p=void 0===d?[]:d,f=e.className,g=(0,s.useState)(!1),m=g[0],y=g[1],x=u&&h(u);return(0,r.jsx)("div",{className:"relative w-full h-0 pt-[140%]",onClick:function(){return y(!m)},children:u&&n&&(0,r.jsxs)(i.Z,{glareEnable:!(0,o.b)(),tiltEnable:!(0,o.b)(),scale:1,glareMaxOpacity:.3,glareColor:x,perspective:2500,tiltMaxAngleY:10,tiltMaxAngleX:10,transitionSpeed:1e3,flipHorizontally:m,className:(0,a.classNames)("absolute inset-0 land-card-tilt-ready border-2",f),glarePosition:"all",style:{transformStyle:"preserve-3d",borderColor:"black"},children:[(0,r.jsx)("div",{className:"absolute inset-0",style:{backfaceVisibility:"hidden"},children:(0,r.jsx)(l.s,{className:"relative w-full h-full",src:"".concat(null!==n&&void 0!==n?n:"/assets/card-back.png"),alt:""})}),(0,r.jsx)("div",{className:"absolute inset-0",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:(0,r.jsx)(v,{pieces:p})})]})})};function v(e){var t=e.pieces,n=(0,s.useRef)(null);return(0,s.useEffect)((function(){var e=n.current;if(e){var r=Array.from(e.children),i=!0,s=!1,a=void 0;try{for(var o,l=r[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){var c=o.value,u=c.dataset.id;u&&t.includes(u)&&(c.style.opacity="1")}}catch(d){s=!0,a=d}finally{try{i||null==l.return||l.return()}finally{if(s)throw a}}}})),(0,r.jsxs)("div",{ref:n,className:(0,a.classNames)(d()["obelisk-pieces"],"bg-gradient-to-tl from-black to-gray-dark-2 w-full h-full"),children:[(0,r.jsx)("div",{"data-id":"First Trip"}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{})]})}},7903:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var r=n(7294),i=n(9671);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s=[],a=!0,o=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);a=!0);}catch(l){o=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(o)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"animate-fade-up",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=n.threshold,o=void 0===s?.25:s,l=n.interval,c=void 0===l?175:l,u=(0,i.R)((function(t,n){var r=a(t,1)[0];(null===r||void 0===r?void 0:r.isIntersecting)&&(r.target.classList.add(e),n.disconnect())}),{threshold:o}),d=(0,r.useCallback)((function(e){if(e)if(u(e),t)e.style.opacity="0";else for(var n=e.children,r=0;r<n.length;r+=1){var i=n[r];i.style.opacity="0",i.style.animationDelay="".concat(c*r,"ms")}}),[u,c,t]);return d}},4:function(e,t,n){"use strict";n.d(t,{J:function(){return u}});var r=n(4051),i=n.n(r);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t,n,r,i,s,a){try{var o=e[s](a),l=o.value}catch(c){return void n(c)}o.done?t(l):Promise.resolve(l).then(r,i)}function o(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l="https://api.otherside.xyz",c=function(e){var t={sediment:{},environment:{},resources:[{},{},{},{}]},n=!0,r=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var l=s.value;switch(l.trait_type){case"Category":t.category=l.value;break;case"Sediment":t.sediment.value=l.value;break;case"Sediment Tier":t.sediment.tier=l.value;break;case"Environment":t.environment.value=l.value;break;case"Environment Tier":t.environment.tier=l.value;break;case"Northern Resource":t.resources[0].value=l.value;break;case"Northern Resource Tier":t.resources[0].tier=l.value;break;case"Eastern Resource":t.resources[1].value=l.value;break;case"Eastern Resource Tier":t.resources[1].tier=l.value;break;case"Southern Resource":t.resources[2].value=l.value;break;case"Southern Resource Tier":t.resources[2].tier=l.value;break;case"Western Resource":t.resources[3].value=l.value;break;case"Western Resource Tier":t.resources[3].tier=l.value;break;case"Artifact":t.artifact=l.value;break;case"Koda":t.koda=l.value;break;case"Obelisk Piece":t.obeliskPieces=Array.isArray(t.obeliskPieces)?o(t.obeliskPieces).concat([l.value]):[l.value]}}}catch(c){r=!0,i=c}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return t},u=function(){var e,t=(e=i().mark((function e(t){var n,r,s,a,o,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.next=3;break;case 3:return e.next=5,fetch("".concat(l,"/lands/").concat(t));case 5:return n=e.sent,e.next=8,n.json();case 8:if(r=e.sent,s=r.attributes.find((function(e){return"Koda"===e.trait_type})),a=null,"number"!==typeof(null===s||void 0===s?void 0:s.value)){e.next=23;break}return e.next=14,fetch("".concat(l,"/kodas/").concat(null===s||void 0===s?void 0:s.value));case 14:if(404!==(o=e.sent).status){e.next=19;break}e.t0=null,e.next=22;break;case 19:return e.next=21,o.json();case 21:e.t0=e.sent;case 22:a=e.t0;case 23:return u={error:0,id:Number(t),imageURL:r.image,metadata:c(r.attributes),kodadata:a},e.abrupt("return",u);case 27:throw e.prev=27,e.t1=e.catch(0),new Error("Failed to fetch Otherdeed: ".concat(t));case 30:case"end":return e.stop()}}),e,null,[[0,27]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function o(e){a(s,r,i,o,l,"next",e)}function l(e){a(s,r,i,o,l,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}()},6001:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var r=n(4051),i=n.n(r),s=n(5893),a=n(7294),o=n(6038),l=n(1657),c=n(2100),u=n(4837),d=n(4091),h=n(4170),p=n(6930),v=n(1413),f=n(4),g=n(6666),m=n(9095),y=n(8439),x=n(967);function w(e,t,n,r,i,s,a){try{var o=e[s](a),l=o.value}catch(c){return void n(c)}o.done?t(l):Promise.resolve(l).then(r,i)}var b=function(e){var t=e.token,n=(0,a.useState)(null),r=n[0],o=n[1],l=(0,a.useState)(null),c=l[0],u=l[1];(0,a.useEffect)((function(){var e=function(){var e,n=(e=i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,f.J)(t);case 3:n=e.sent,o(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r=e.t0,(null!=(i=Error)&&"undefined"!==typeof Symbol&&i[Symbol.hasInstance]?i[Symbol.hasInstance](r):r instanceof i)?u(e.t0.message):u("Unknown error");case 10:case"end":return e.stop()}var r,i}),e,null,[[0,7]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function a(e){w(s,r,i,a,o,"next",e)}function o(e){w(s,r,i,a,o,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}();e()}),[t]);var d=(null===r||void 0===r?void 0:r.metadata)?y.V[r.metadata.environment.value]:"";return c?(0,s.jsx)("div",{className:"p-4 border-2 border-gray-border h-full flex flex-col items-center justify-center font-cta text-center",children:(0,s.jsx)("span",{className:"text-red",children:c})}):(null===r||void 0===r?void 0:r.metadata)?(0,s.jsxs)("div",{className:"grow-0 basis-full sm:basis-1/2 md:basis-1/3",children:[(0,s.jsx)(g.t,{environment:r.metadata.environment.value,imageURL:r.imageURL,obeliskPieces:r.metadata.obeliskPieces}),(0,s.jsxs)("div",{className:"py-2 px-4 flex justify-between items-center ",style:{backgroundColor:d,backgroundImage:"linear-gradient(120deg, rgba(0,0,0,1) 2%, rgba(255,255,255,0) 70%, rgba(0,0,0,1) 120%)",backgroundBlendMode:"overlay"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-cta text-[8px] uppercase mb-1 tracking-widest",children:"Token ID"}),(0,s.jsxs)("div",{className:"text-2xl",children:["#",r.id]})]}),(0,s.jsx)(m.r,{href:"/explore?id=".concat(t),className:"cta text-[10px] py-2 px-4 bg-black hover:bg-gray-hover",children:"View on Map"})]})]}):(0,s.jsx)(x.Z,{})};var E,A=n(4699),j=n(6825);function k(e,t,n,r,i,s,a){try{var o=e[s](a),l=o.value}catch(c){return void n(c)}o.done?t(l):Promise.resolve(l).then(r,i)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function a(e){k(s,r,i,a,o,"next",e)}function o(e){k(s,r,i,a,o,"throw",e)}a(void 0)}))}}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.Error="ERROR",e.InvalidChainId="INVALID_CHAIN_ID",e.Loading="LOADING",e.NotConnected="NOT_CONNECTED",e.NoTokens="NO_TOKENS",e.Active="ACTIVE"}(E||(E={}));var O,M=Object.freeze((P(O={},E.Error,(function(e){var t=e.error;return(0,s.jsxs)("div",{className:"text-center min-h-screen flex flex-col justify-center px-5",children:[(0,s.jsx)("h3",{className:"headline-5 mb-4",children:"An Error Occured"}),(0,s.jsx)("p",{className:"font-cta",children:t})]})})),P(O,E.InvalidChainId,(function(){return(0,s.jsxs)("div",{className:"text-center min-h-screen flex flex-col justify-center px-5",children:[(0,s.jsx)("h3",{className:"headline-5 mb-4",children:"Invalid Chain ID"}),(0,s.jsx)("p",{className:"font-cta",children:"Please connect to Ethereum Mainnet"})]})})),P(O,E.NotConnected,p.R),P(O,E.Active,(function(e){var t=e.tokens,n=t,r=t.length<3?"flex flex-wrap":"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3";return(0,s.jsxs)("div",{className:"md:min-h-screen py-24 lg:py-32 standard-wrapper",children:[(0,s.jsx)("h1",{className:"headline-5 text-center",children:"My Otherdeeds"}),(0,s.jsx)("div",{className:(0,d.classNames)(r,"pt-12 justify-center items-center gap-6"),children:n.map((function(e){return(0,s.jsx)(b,{token:e},e)}))})]})})),P(O,E.NoTokens,(function(){var e=(0,l.useAccount)(),t=e.walletAddress,n=e.ensName;return(0,s.jsxs)("div",{className:"text-center min-h-screen flex flex-col justify-center px-5",children:[(0,s.jsx)("h3",{className:"headline-5 mb-4",children:"No Otherdeeds Found"}),(0,s.jsxs)("p",{className:"font-cta",children:["No tokens were found for ",n||t,"."]}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(A.z,{href:j.Z5.buy,variant:"primary",children:"Buy Otherdeed on Opensea"})})]})})),P(O,E.Loading,(function(){return(0,s.jsx)("div",{className:"m-auto",children:(0,s.jsx)(x.Z,{})})})),O)),S=function(){var e=(0,l.useAccount)().walletAddress,t=(0,l.useContract)(c.OtherdeedContract),n=(0,l.useRPC)("eth_chainId").data,r=(0,a.useState)([]),o=r[0],p=r[1],f=(0,a.useState)(E.Loading),g=f[0],m=f[1],y=(0,a.useState)(""),x=y[0],w=y[1],b=M[g];return(0,a.useEffect)((function(){function r(){return(r=N(i().mark((function r(){var s;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,e){r.next=5;break}m(E.NotConnected),r.next=14;break;case 5:if(1===Number(n)){r.next=9;break}m(E.InvalidChainId),r.next=14;break;case 9:if(!t){r.next=14;break}return r.next=12,(0,d.getTokensOfOwner)(t,e);case 12:s=r.sent,(0,u.isEmpty)(s)?m(E.NoTokens):(p(s),m(E.Active));case 14:r.next=21;break;case 16:r.prev=16,r.t0=r.catch(0),console.error(r.t0),w(r.t0.message),m(E.Error);case 21:case"end":return r.stop()}}),r,null,[[0,16]])})))).apply(this,arguments)}!function(){r.apply(this,arguments)}()}),[e,t,n]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(I,{children:(0,s.jsx)(v.M,{transitionKey:g,timeout:750,onEnter:C,onExit:L,children:(0,s.jsx)(b,{tokens:o,error:x})})}),(0,s.jsx)(h.$,{})]})};function C(e){o.p8.from(e,{duration:.75,autoAlpha:0})}function L(e){o.p8.to(e,{duration:.75,autoAlpha:0})}function I(e){var t=e.children;return(0,s.jsx)("div",{className:"min-h-screen flex flex-col",children:t})}},3912:function(e){e.exports={"obelisk-pieces":"obelisk-pieces_obelisk-pieces__bhrpV"}},9671:function(e,t,n){"use strict";n.d(t,{Y:function(){return s},R:function(){return i}});var r=n(7294);var i=(e,{root:t,rootMargin:n,threshold:i}={},s=[])=>{const a=(0,r.useRef)(null),o=(0,r.useRef)(null);return(0,r.useCallback)((r=>{a.current&&o.current&&(o.current.unobserve(a.current),o.current.disconnect(),o.current=null),r&&(o.current=new IntersectionObserver(e,{root:t,rootMargin:n,threshold:i}),o.current.observe(r),a.current=r)}),[a,t,n,JSON.stringify(i),...s])};var s=({root:e,rootMargin:t,threshold:n,unobserveOnEnter:s,target:a,onEnter:o,onLeave:l,defaultInView:c}={},u=[])=>{const[d,h]=(0,r.useState)({inView:c||!1,entry:null,observer:null}),p=(0,r.useCallback)((([e],t)=>{const n=t.thresholds.some((t=>e.intersectionRatio>=t))&&e.isIntersecting;h({inView:n,entry:e,observer:t}),n&&s&&(t.unobserve(e.target),t.disconnect()),n?null===o||void 0===o||o(e,t):null===l||void 0===l||l(e,t)}),[o,l,s]),v=i(p,{root:e,rootMargin:t,threshold:n},[s,...u]);return(0,r.useEffect)((()=>{(null===a||void 0===a?void 0:a.current)&&v(a.current)}),[a,v]),[v,d.inView,d.entry,d.observer]}},7521:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(7294);const i=(e,t,n,r)=>{e.style.transition=`${t} ${n}ms ${r}`},s=(e,t,n)=>Math.min(Math.max(e,t),n);class a{constructor(e,t){this.glareAngle=0,this.glareOpacity=0,this.calculateGlareSize=e=>{const{width:t,height:n}=e,r=Math.sqrt(Math.pow(t,2)+Math.pow(n,2));return{width:r,height:r}},this.setSize=e=>{const t=this.calculateGlareSize(e);this.glareEl.style.width=`${t.width}px`,this.glareEl.style.height=`${t.height}px`},this.update=(e,t,n,r)=>{this.updateAngle(e,t.glareReverse),this.updateOpacity(e,t,n,r)},this.updateAngle=(e,t)=>{const{xPercentage:n,yPercentage:r}=e,i=180/Math.PI,s=n?Math.atan2(r,-n)*i:0;this.glareAngle=s-(t?180:0)},this.updateOpacity=(e,t,n,r)=>{const{xPercentage:i,yPercentage:a}=e,{glarePosition:o,glareReverse:l,glareMaxOpacity:c}=t,u=n?-1:1,d=r?-1:1,h=l?-1:1;let p=0;switch(o){case"top":p=-i*u*h;break;case"right":p=a*d*h;break;case"bottom":case void 0:p=i*u*h;break;case"left":p=-a*d*h;break;case"all":p=Math.hypot(i,a)}const v=s(p,0,100);this.glareOpacity=v*c/100},this.render=e=>{const{glareColor:t}=e;this.glareEl.style.transform=`rotate(${this.glareAngle}deg) translate(-50%, -50%)`,this.glareEl.style.opacity=this.glareOpacity.toString(),this.glareEl.style.background=`linear-gradient(0deg, rgba(255,255,255,0) 0%, ${t} 100%)`},this.glareWrapperEl=document.createElement("div"),this.glareEl=document.createElement("div"),this.glareWrapperEl.appendChild(this.glareEl),this.glareWrapperEl.className="glare-wrapper",this.glareEl.className="glare";const n={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden",borderRadius:t,WebkitMaskImage:"-webkit-radial-gradient(white, black)",pointerEvents:"none"},r=this.calculateGlareSize(e),i={position:"absolute",top:"50%",left:"50%",transformOrigin:"0% 0%",pointerEvents:"none",width:`${r.width}px`,height:`${r.height}px`};Object.assign(this.glareWrapperEl.style,n),Object.assign(this.glareEl.style,i)}}class o{constructor(){this.glareAngle=0,this.glareOpacity=0,this.tiltAngleX=0,this.tiltAngleY=0,this.tiltAngleXPercentage=0,this.tiltAngleYPercentage=0,this.update=(e,t)=>{this.updateTilt(e,t),this.updateTiltManualInput(e,t),this.updateTiltReverse(t),this.updateTiltLimits(t)},this.updateTilt=(e,t)=>{const{xPercentage:n,yPercentage:r}=e,{tiltMaxAngleX:i,tiltMaxAngleY:s}=t;this.tiltAngleX=n*i/100,this.tiltAngleY=r*s/100*-1},this.updateTiltManualInput=(e,t)=>{const{tiltAngleXManual:n,tiltAngleYManual:r,tiltMaxAngleX:i,tiltMaxAngleY:s}=t;(null!==n||null!==r)&&(this.tiltAngleX=null!==n?n:0,this.tiltAngleY=null!==r?r:0,e.xPercentage=100*this.tiltAngleX/i,e.yPercentage=100*this.tiltAngleY/s)},this.updateTiltReverse=e=>{const t=e.tiltReverse?-1:1;this.tiltAngleX=t*this.tiltAngleX,this.tiltAngleY=t*this.tiltAngleY},this.updateTiltLimits=e=>{const{tiltAxis:t}=e;this.tiltAngleX=s(this.tiltAngleX,-90,90),this.tiltAngleY=s(this.tiltAngleY,-90,90),t&&(this.tiltAngleX="x"===t?this.tiltAngleX:0,this.tiltAngleY="y"===t?this.tiltAngleY:0)},this.updateTiltAnglesPercentage=e=>{const{tiltMaxAngleX:t,tiltMaxAngleY:n}=e;this.tiltAngleXPercentage=this.tiltAngleX/t*100,this.tiltAngleYPercentage=this.tiltAngleY/n*100},this.render=e=>{e.style.transform+=`rotateX(${this.tiltAngleX}deg) rotateY(${this.tiltAngleY}deg) `}}}const l=Object.assign(Object.assign({scale:1,perspective:1e3,flipVertically:!1,flipHorizontally:!1,reset:!0,transitionEasing:"cubic-bezier(.03,.98,.52,.99)",transitionSpeed:400,trackOnWindow:!1,gyroscope:!1},{tiltEnable:!0,tiltReverse:!1,tiltAngleXInitial:0,tiltAngleYInitial:0,tiltMaxAngleX:20,tiltMaxAngleY:20,tiltAxis:void 0,tiltAngleXManual:null,tiltAngleYManual:null}),{glareEnable:!1,glareMaxOpacity:.7,glareColor:"#ffffff",glarePosition:"bottom",glareReverse:!1,glareBorderRadius:"0"});class c extends r.PureComponent{constructor(){super(...arguments),this.wrapperEl={node:null,size:{width:0,height:0,left:0,top:0},clientPosition:{x:null,y:null,xPercentage:0,yPercentage:0},updateAnimationId:null,scale:1},this.tilt=null,this.glare=null,this.addDeviceOrientationEventListener=()=>function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){if(window.DeviceOrientationEvent,"function"==typeof DeviceOrientationEvent.requestPermission)try{return void("granted"===(yield DeviceOrientationEvent.requestPermission())&&window.addEventListener("deviceorientation",this.onMove))}catch(e){return void console.error(e)}window.addEventListener("deviceorientation",this.onMove)})),this.setSize=()=>{this.setWrapperElSize(),this.glare&&this.glare.setSize(this.wrapperEl.size)},this.mainLoop=e=>{null!==this.wrapperEl.updateAnimationId&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.processInput(e),this.update(e.type),this.wrapperEl.updateAnimationId=requestAnimationFrame(this.renderFrame)},this.onEnter=e=>{const{onEnter:t}=this.props;this.setSize(),this.wrapperEl.node.style.willChange="transform",this.setTransitions(),t&&t(e.type)},this.onMove=e=>{this.mainLoop(e),this.emitOnMove(e)},this.onLeave=e=>{const{onLeave:t}=this.props;if(this.setTransitions(),t&&t(e.type),this.props.reset){const e=new CustomEvent("autoreset");this.onMove(e)}},this.processInput=e=>{const{scale:t}=this.props;switch(e.type){case"mousemove":this.wrapperEl.clientPosition.x=e.pageX,this.wrapperEl.clientPosition.y=e.pageY,this.wrapperEl.scale=t;break;case"touchmove":this.wrapperEl.clientPosition.x=e.touches[0].pageX,this.wrapperEl.clientPosition.y=e.touches[0].pageY,this.wrapperEl.scale=t;break;case"deviceorientation":this.processInputDeviceOrientation(e),this.wrapperEl.scale=t;break;case"autoreset":const{tiltAngleXInitial:n,tiltAngleYInitial:r,tiltMaxAngleX:i,tiltMaxAngleY:a}=this.props,o=r/a*100;this.wrapperEl.clientPosition.xPercentage=s(n/i*100,-100,100),this.wrapperEl.clientPosition.yPercentage=s(o,-100,100),this.wrapperEl.scale=1}},this.processInputDeviceOrientation=e=>{if(!e.gamma||!e.beta||!this.props.gyroscope)return;const{tiltMaxAngleX:t,tiltMaxAngleY:n}=this.props,r=e.gamma;this.wrapperEl.clientPosition.xPercentage=e.beta/t*100,this.wrapperEl.clientPosition.yPercentage=r/n*100,this.wrapperEl.clientPosition.xPercentage=s(this.wrapperEl.clientPosition.xPercentage,-100,100),this.wrapperEl.clientPosition.yPercentage=s(this.wrapperEl.clientPosition.yPercentage,-100,100)},this.update=e=>{const{tiltEnable:t,flipVertically:n,flipHorizontally:r}=this.props;"autoreset"!==e&&"deviceorientation"!==e&&"propChange"!==e&&this.updateClientInput(),t&&this.tilt.update(this.wrapperEl.clientPosition,this.props),this.updateFlip(),this.tilt.updateTiltAnglesPercentage(this.props),this.glare&&this.glare.update(this.wrapperEl.clientPosition,this.props,n,r)},this.updateClientInput=()=>{const{trackOnWindow:e}=this.props;let t,n;if(e){const{x:e,y:r}=this.wrapperEl.clientPosition;t=r/window.innerHeight*200-100,n=e/window.innerWidth*200-100}else{const{size:{width:e,height:r,left:i,top:s},clientPosition:{x:a,y:o}}=this.wrapperEl;t=(o-s)/r*200-100,n=(a-i)/e*200-100}this.wrapperEl.clientPosition.xPercentage=s(t,-100,100),this.wrapperEl.clientPosition.yPercentage=s(n,-100,100)},this.updateFlip=()=>{const{flipVertically:e,flipHorizontally:t}=this.props;e&&(this.tilt.tiltAngleX+=180,this.tilt.tiltAngleY*=-1),t&&(this.tilt.tiltAngleY+=180)},this.renderFrame=()=>{this.resetWrapperElTransform(),this.renderPerspective(),this.tilt.render(this.wrapperEl.node),this.renderScale(),this.glare&&this.glare.render(this.props)}}componentDidMount(){this.tilt=new o,this.initGlare(),this.addEventListeners();const e=new CustomEvent("autoreset");this.mainLoop(e);const t=new CustomEvent("initial");this.emitOnMove(t)}componentWillUnmount(){null!==this.wrapperEl.updateAnimationId&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.removeEventListeners()}componentDidUpdate(){const e=new CustomEvent("propChange");this.mainLoop(e),this.emitOnMove(e)}addEventListeners(){const{trackOnWindow:e,gyroscope:t}=this.props;window.addEventListener("resize",this.setSize),e&&(window.addEventListener("mouseenter",this.onEnter),window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseout",this.onLeave),window.addEventListener("touchstart",this.onEnter),window.addEventListener("touchmove",this.onMove),window.addEventListener("touchend",this.onLeave)),t&&this.addDeviceOrientationEventListener()}removeEventListeners(){const{trackOnWindow:e,gyroscope:t}=this.props;window.removeEventListener("resize",this.setSize),e&&(window.removeEventListener("mouseenter",this.onEnter),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseout",this.onLeave),window.removeEventListener("touchstart",this.onEnter),window.removeEventListener("touchmove",this.onMove),window.removeEventListener("touchend",this.onLeave)),t&&window.DeviceOrientationEvent&&window.removeEventListener("deviceorientation",this.onMove)}setWrapperElSize(){const e=this.wrapperEl.node.getBoundingClientRect();this.wrapperEl.size.width=this.wrapperEl.node.offsetWidth,this.wrapperEl.size.height=this.wrapperEl.node.offsetHeight,this.wrapperEl.size.left=e.left+window.scrollX,this.wrapperEl.size.top=e.top+window.scrollY}initGlare(){const{glareEnable:e,glareBorderRadius:t}=this.props;e&&(this.glare=new a(this.wrapperEl.size,t),this.wrapperEl.node.appendChild(this.glare.glareWrapperEl))}emitOnMove(e){const{onMove:t}=this.props;if(!t)return;let n=0,r=0;this.glare&&(n=this.glare.glareAngle,r=this.glare.glareOpacity),t({tiltAngleX:this.tilt.tiltAngleX,tiltAngleY:this.tilt.tiltAngleY,tiltAngleXPercentage:this.tilt.tiltAngleXPercentage,tiltAngleYPercentage:this.tilt.tiltAngleYPercentage,glareAngle:n,glareOpacity:r,eventType:e.type})}resetWrapperElTransform(){this.wrapperEl.node.style.transform=""}renderPerspective(){const{perspective:e}=this.props;this.wrapperEl.node.style.transform+=`perspective(${e}px) `}renderScale(){const{scale:e}=this.wrapperEl;this.wrapperEl.node.style.transform+=`scale3d(${e},${e},${e})`}setTransitions(){const{transitionSpeed:e,transitionEasing:t}=this.props;i(this.wrapperEl.node,"all",e,t),this.glare&&i(this.glare.glareEl,"opacity",e,t)}render(){const{children:e,className:t,style:n}=this.props;return r.createElement("div",{ref:e=>this.wrapperEl.node=e,onMouseEnter:this.onEnter,onMouseMove:this.onMove,onMouseLeave:this.onLeave,onTouchStart:this.onEnter,onTouchMove:this.onMove,onTouchEnd:this.onLeave,className:t,style:n},e)}}c.defaultProps=l}},function(e){e.O(0,[655,216,100,774,888,179],(function(){return t=1005,e(e.s=t);var t}));var t=e.O();_N_E=t}]);